<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Form Prediksi Harga Mobil</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bootstrap -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  
  <!-- Select2 CSS -->
  <link href="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/css/select2.min.css" rel="stylesheet" />

  <style>
    body {
      background: linear-gradient(to bottom, #9ab0f6, #9ebaf5);
      min-height: 100vh;
      margin: 0;
    }

    .form-wrapper {
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 60px 15px;
    }

    .form-container {
      background-color: white;
      padding: 30px;
      border-radius: 15px;
      box-shadow: 0 0 20px rgba(24, 123, 205, 0.2);
      width: 100%;
      max-width: 800px;
    }

    h2 {
      color: #187bcd;
      text-align: center;
      font-weight: bold;
    }

    .btn-success {
      background-color: #187bcd;
      border-color: #187bcd;
    }

    .btn-success:hover {
      background-color: #146aad;
      border-color: #146aad;
    }

    /* Tambah ikon üîç di input search dalam dropdown */
    .select2-container .select2-search--dropdown .select2-search__field {
      padding-left: 2rem;
      background: url('data:image/svg+xml;utf8,<svg fill="gray" height="16" viewBox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg"><path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0016 9.5 6.5 6.5 0 109.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C8.01 14 6 11.99 6 9.5S8.01 5 10.5 5 15 7.01 15 9.5 12.99 14 10.5 14z"/></svg>') 
      no-repeat 6px center;
      background-size: 16px;
    }

    /* Styling Select2 biar selaras dengan Bootstrap */
    .select2-container--default .select2-selection--single {
      height: 38px;
      padding: 6px 12px;
      border: 1px solid #ced4da;
      border-radius: 0.375rem;
    }

    .select2-container--default .select2-selection--single .select2-selection__rendered {
      line-height: 24px;
    }

    .select2-container .select2-selection--single .select2-selection__arrow {
      height: 36px;
      right: 10px;
    }
  </style>
</head>
<body>
  {% include 'layouts/navbar.html' %}

  <div class="form-wrapper">
    <div class="form-container">
      <h2 class="mb-4">Prediksi Harga Mobil</h2>
      <form method="POST" action="{{ url_for('predict') }}">

        <!-- BRAND -->
        <div class="mb-3">
          <label for="brandSelect" class="form-label">Nama Brand</label>
          <select class="form-select" id="brandSelect" name="brand" required>
            <option></option>
            {% for b in ['Tidak Terdaftar / Tidak Diketahui', 'Maruti', 'Skoda', 'Honda', 'Hyundai', 'Toyota', 'Ford', 'Renault', 'Mahindra', 'Tata', 'Chevrolet', 'Datsun', 'Jeep', 'Mercedes-Benz', 'Audi', 'Volkswagen', 'BMW', 'Nissan', 'Fiat'] %}
              <option value="{{ b }}">{{ b }}</option>
            {% endfor %}
          </select>
        </div>

        <!-- USIA MOBIL -->
        <div class="mb-3">
          <label class="form-label">Usia Mobil (tahun)</label>
          <input type="number" name="age" class="form-control" placeholder="Contoh: 5" required>
        </div>

        <!-- KM DRIVEN -->
        <div class="mb-3">
          <label class="form-label">Km driven (km)</label>
          <input type="number" name="km_driven" class="form-control" placeholder="Contoh: 2000" required>
        </div>

        <!-- BAHAN BAKAR -->
        <div class="mb-3">
          <label class="form-label">Jenis Bahan Bakar</label>
          <select name="fuel" class="form-select" required>
            <option disabled selected>-- Pilih Jenis Bahan Bakar --</option>
            <option>Diesel</option>
            <option>Petrol</option>
            <option>LPG</option>
            <option>CNG</option>
          </select>
        </div>

        <!-- JENIS PENJUAL -->
        <div class="mb-3">
          <label class="form-label">Jenis Penjual</label>
          <select name="seller_type" class="form-select" required>
            <option disabled selected>-- Pilih Jenis Penjual --</option>
            <option>Individual</option>
            <option>Dealer</option>
            <option>Trustmark Dealer</option>
          </select>
        </div>

        <!-- TRANSMISI -->
        <div class="mb-3">
          <label class="form-label">Transmisi</label>
          <select name="transmission" class="form-select" required>
            <option disabled selected>-- Pilih Transmisi --</option>
            <option>Manual</option>
            <option>Automatic</option>
          </select>
        </div>

        <!-- OWNER -->
        <div class="mb-3">
          <label class="form-label">Tipe Pemilik</label>
          <select name="owner" class="form-select" required>
            <option disabled selected>-- Pilih Pemilik --</option>
            <option>Tidak Diketahui</option>
            <option>First Owner</option>
            <option>Second Owner</option>
            <option>Third Owner</option>
            <option>Fourth & Above Owner</option>
            <option>Test Drive Car</option>
          </select>
        </div>

        <!-- RASIO BAHAN BAKAR -->
        <div class="mb-3">
          <label class="form-label">Rasio Bahan Bakar (dalam desimal Km/L)</label>
          <input type="float" name="rasioBahanBakar" class="form-control" placeholder="Contoh: 2.5" required>
        </div>

        <!-- KAPASITAS MESIN -->
        <div class="mb-3">
          <label class="form-label">Kapasitas Mesin (CC)</label>
          <input type="number" name="engine" class="form-control" placeholder="Contoh: 150" required>
        </div>

        <!-- HORSEPOWER -->
        <div class="mb-3">
          <label class="form-label">Horsepower (bhp)</label>
          <input type="number" step="0.1" name="max_power" class="form-control" placeholder="Contoh: 200" required>
        </div>

        <!-- TORSI -->
        <div class="mb-3">
          <label for="torqueSelect" class="form-label">Torsi</label>
          <select class="form-select" id="torqueSelect" name="torque" required>
            <option></option>
            {% for t in torque_list %}
              <option value="{{ t }}">{{ t }}</option>
            {% endfor %}
          </select>
        </div>

        <div class="d-flex justify-content-between form-buttons">
          <a href="{{ url_for('hero') }}" class="btn btn-outline-secondary">‚Üê Kembali</a>
          <button type="submit" class="btn btn-success">Prediksi Harga</button>
        </div>
      </form>
    </div>
  </div>

  <!-- JQuery + Select2 -->
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>

  <script>
    $(document).ready(function () {
      $('#brandSelect').select2({
        placeholder: "Cari atau pilih Brand",
        allowClear: true
      });

      $('#torqueSelect').select2({
        placeholder: "Cari atau pilih Torsi",
        allowClear: true
      });
    });
  </script>
</body>
</html>
